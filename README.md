# comlis-web-scraping
このアプリケーションは、指定したWebサイトをスクレイピングし、取得した会社情報を`comlis-data-store`へ送信する機能を提供する予定です。  
[comlis-data-store](https://github.com/hotdrop/comlis-data-store)とは、Spring+Redisで作成した簡易データストアアプリケーションです。REST APIを提供しています。  
また、dockerコンテナ上で動作することを想定しています。  

# スクレイピング処理を実装するにあたり
どうしてもスクレイピング対象サイトに特化したコードを書く必要があると思っています。  
*特定のサイト* に限定したコードを書いて公開した場合、そのサイトにアクセス負荷等何らかの迷惑をかける恐れがあると考え、このリポジトリでは特定サイトに依存するコードは管理対象外にします。  

# 概要
このアプリケーションが持つ機能は2つです。  
  1. httpサーバー(REST APIでcomlis-data-storeとやり取りする)
  2. webスクレイピング

# 処理の流れ(現在の想定)
このアプリケーションはdockerコンテナ上で動作させる想定です。  
今のところ、アプリの実行契機はdockerコンテナの起動タイミングと考えていますが定期実行も別途検討していく予定です。  
ひとまず現在はアプリケーションの実行から終了まで以下のような流れを想定しています。  

→dockerコンテナ起動
  1. `comlis-data-store`からkey :star: をGET
  2. 取得したkeyをもとに指定のWebサイトをスクレイピングし情報を取得
  3. 取得した情報をjson形式に加工
  4. 加工したjsonを`comlis-data-store`へPOST
  5. どこまでスクレイピングしたかを示す情報を`comlis-data-store`へPOST

:star: keyを何にするかはまだ未定
